<!DOCTYPE html>
<html ng-app="template" ng-controller="ctrl">
  <head>
    <meta charset="utf-16">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link  rel="shortcut icon" href="" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js" integrity="sha512-90vH1Z83AJY9DmlWa8WkjkV79yfS2n2Oxhsi2dZbIv0nC4E6m5AbH8Nh156kkM7JePmqD6tcZsfad1ueoaovww==" crossorigin="anonymous"></script-->
    <!--angular setup-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.4/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.4/angular-route.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.4/angular-animate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.6.4/angular-sanitize.min.js" integrity="sha512-zIcdv1GbeK4BRG8F1+d238N9aCF6EZq5edKdElLtG8sT4V+1sz87cIf+QngHESim2f0xEcwRbAC9ZlRHublq4A==" crossorigin="anonymous"></script>
    <!--D3-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js" integrity="sha512-vc58qvvBdrDR4etbxMdlTt4GBQk1qjvyORR2nrsPsFPyrs+/u5c3+1Ct6upOgdZoIl7eq6k3a1UPDSNAQi/32A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="js/ui-bootstrap-tpls-3.0.6.min.js" ></script>
    <!--font-awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/js/all.min.js" integrity="sha512-YSdqvJoZr83hj76AIVdOcvLWYMWzy6sJyIMic2aQz5kh2bPTd9dzY3NtdeEAzPp/PhgZqr4aJObB3ym/vsItMg==" crossorigin="anonymous"></script>
    <!--font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!--for pdf generation-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js" integrity="sha512-ToRWKKOvhBSS8EtqSflysM/S7v9bB9V0X3B1+E7xo7XZBEZCPL3VX5SFIp8zxY19r7Sz0svqQVbAOx+QcLQSAQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--custom-->
    <script src="js/env.js"></script>
    <script src = "js/main.js"></script>
    <link rel="stylesheet" href="./style/main.css">
  </head>
  <body>
    <!--possibly change to 10 offset 1-->
    <div id="main-content" class="col-md-12 col-sm-12 col-lg-12">
      <div class="guiding-q q-top"><i>Where</i> are the friction points?</div>
      <div id="diagram"></div>
      <!--absolute positioning will force these into the right place-->
      <div class="f-q-group" ng-repeat="f in model.facets">
        <!--gonna figure out something else for the facet title-->
        <div class="facet-title"></div>
        <div class="q-list" style="top:{{f.top}}; left:{{f.left}}"  > <!--I wish I could be more clever about this-->
            <!--could put these as an unordered list, but I think that might hurt styling more than it helps-->
            <div class="f-q" ng-repeat="q in f.questions" style="max-width:{{q.w}}vw"  ng-style="{'margin-left': f.index>1? getOffset(q.w) :'0'}" ng-class="f.index > 1? 'right-align':''">
              <div class="info-icon" ng-click="openModal(q)" ng-if="f.index>1"><i class="fas fa-info-circle"></i></div>
              <span>{{q.text}}</span>
              <!--need to figure out what is needed for click-->
              <div class="info-icon" ng-click="openModal(q)" ng-if="f.index<2"><i class="fas fa-info-circle"></i></div>
            </div>
        </div>
      </div>

      <div class="guiding-q q-bottom">How can we <i>use</i> the friction generatively?</div>
      <!--use the styles from the rcf menu for this-->
      <div id="question-panel" ng-class="model.panelOpen? 'panel-open':'panel-closed'">
        <div id="close-menu" class="close-button" ng-click="togglePanel()"><i class="fas fa-times"></i></div>
        <div id="panel-content">
          <div id="f-buttons">
            <div ng-repeat="f in model.facets" class="facet-select" style="background-color:{{f.fill_colour}}" ng-click="changeActiveFacet(f.index)" ng-class="model.active_facet==f.index? 'active-facet':'non-active'"></div>
            <div id="form-content">
              <div class="form-title" style="color:{{model.facets[model.active_facet].fill_colour}}">{{model.facets[model.active_facet].name}}</div>
              <div class="form-field" ng-repeat="qu in model.facets[model.active_facet].questions">
                <div class="form-question">{{qu.text}}</div>
                <div class="question-box"><textarea type="text" ng-model="qu.answer"></textarea></div>
              </div>
            </div>
          </div>
          <div id="download-button" ng-click="downloadForm()">Download Answers</div>
        </div>
      </div>
      <div class="action-icons">
        <!--for the questions-->
        <div class="action" ng-click="togglePanel()"><i class="fas fa-edit"></i></div>
        <!--temp, for an external form-->
        <div class="action"><a href="https://uofg.qualtrics.com/jfe/form/SV_a636wKSLiXv6mIC" target="_blank"><i class="fas fa-plus-circle"></i></a></div>
      </div>
    </div>
  </body>
</html>
